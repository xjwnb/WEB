# 表单脚本

## 表单基础

Web 表单在 HTML 中以 <form> 元素表示，在 JavaScript 中则以 HTMLFormElement 类型表示。

- `acceptCharset`：服务器可以接收的字符集，等价于 HTML 的 accept-charset 属性。
- `action`：请求的 URL，等价于 HTML  的 action 属性。
- `elements`：表单中所有控件的 HTMLCollection。
- `enctype`：请求的编码类型，等价于 HTML 的 enctype 属性。
- `length`：表单中控件的数量。
- `method`：HTTP  请求的方法类型，通常是 "get" 或 "post"，等价于 HTML 的 method 属性。
- `name`：表单的名字，等价于 HTML 的 name 属性。
- `reset()`：把表单字段重置为各自的默认值。
- `submit()`：提交表单。
- `target`：用于发送请求和接收响应的窗口名字，等价于 HTML 的 target 属性。

取得对 <form> 元素的引用。

```javascript
// 通过 id 获取表单引用
let form = document.getElementById("form1");
// 通过索引获取表单引用
let firstForm = document.forms[0];
// 通过表单 name 属性获取引用
let xkcForm = document.forms["xkcForm"];
```

### 提交表单

表单的提交按钮可以使用 type 属性为 "submit" 的 <input> 或 <button> 元素来定义，图片按钮可以使用 type 属性为 "image" 的 <input> 元素来定义。

```html
<!-- 通用提交按钮 -->
<input type="submit" value="Submit Form">
<!-- 自定义提交按钮 -->
<button type="submit">Submit Form</button>
<!-- 图片按钮提交 -->
<input type="image" src="xkc.png">
```

表单上有任意一种提交按钮，且焦点在表单中某个控件上，按回车键可以提交表单（textarea 控件忽略，回车键不发生提交，而是发生换行）。

阻止默认行为可以取消提交表单。

```javascript
let form = document.getElementById("xkcForm");
form.addEventListener("submit", function(event) {
    event.preventDefault();
});
```

可以调用 `submit()` 方法来提交表单。

```javascript
form.submit();
```

**注意：**

通过 `submit()` 方法提交表单时， submit 事件不会触发。 因此需要在 `submit()` 方法前面先进行提交数据验证。

多次提交表单的解决方式：

- 在表单提交后禁用提交按钮；
- 通过 `onsubmit` 事件处理程序取消之后的表单提交。

### 重置表单

重置按钮可以使用 type 属性为 "reset" 的<input> 或<button> 元素来创建。

```html
<!-- 通用重置按钮 -->
<input type="reset" value="Reset Form">
<!-- 自定义重置按钮 -->
<button type="reset">Reset Form</button>
```

重置表单之后，整个表单会重置回第一次渲染时的状态。

阻止重置表单行为，可以通过阻止默认行为

```javascript
let form = document.getElementById("xkc");
form.addEventListener("reset", (event) => {
    event.preventDefault();
});
```

重置表单可以通过调用 `reset()` 方法来完成。

```javascript
form.reset();
```

**注意：**

与 `submit()` 方法不同的是，调用 `reset()` 方法会触发 reset 事件。一般不推荐重置表单的操作。